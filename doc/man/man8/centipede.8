.TH CENTIPEDE 8C "22 September 1998" "OpenLDAP LDVERSION"
.\" $OpenLDAP$
.\" Copyright 1998-2000 The OpenLDAP Foundation All Rights Reserved.
.\" Copying restrictions apply.  See COPYRIGHT/LICENSE.
.SH NAME
centipede \- LDAP centroid index generation and maintenance program
.SH SYNOPSIS
.B SBINDIR/centipede
.B [\-f filter]
.B [\-F] [\-R]
.B [\-f filter] [\-t directory]
.B [\-m authmethod] [\-b binddn] 
.B [\-p passwd] [\-c cachesize]
.B \-s sourceurl \-d desturl attributes
.SH DESCRIPTION
.LP
The centipede program is used to extract centroid or other index
information from one LDAP server and install it in another. Although
index information can be extracted from any LDAP server, only a
.BR slapd (8)
LDAP server will understand the information and thus be capable of
making use of it as indexing information (i.e., you should only
install index information in a
.BR slapd (8)
LDAP server).
.LP
The basic form of the command is as follows
.LP
.nf
.ft tt
	SBINDIR/centipede [options]
		-s "ldap://[host/]subtree-to-index-dn"
		-d "ldap://[host/]parent-of-index-entry-dn"
		attributes
.ft
.fi
.LP
where the
.B \-s
option specifies the subtree for which index information is to
be generated, and the
.B \-d
option specifies the parent under which the index information is to
be installed.
.LP
For example, suppose you are running an
LDAP server on the host
.I babs.com
for an organization called "BabsCo" based in the US, and you want to
generate index information for the cn, sn and objectclass attributes of
all the people entries in your subtree. You want to install the index
informatioin in the indexing
.BR slapd (8)
running on the host
.I vertigo.rs.itd.umich.edu
under the c=US entry.
This way, when an LDAP client connects to the
.BR slapd (8)
on vertigo and does a subtree search of c=US,
.BR slapd (8)
can consult the index information to tell whether it should refer the
client to your server or not. You could accomplish this with a command
like this:
.LP
.nf
.ft tt
	SBINDIR/centipede -f '(objectclass=person)'
		-m simple -b your-rootdn -p your-rootdnpw
		-s "ldap://babs.com/o=BabsCo, c=US"
		-d "ldap://vertigo.rs.itd.umich.edu/c=US"
		cn sn objectclass
.ft
.fi
.LP
Note the
.B \-b
and
.B \-p
options can be used to authenticate as an entity able to read all
the information you want.
.LP
See "The SLAPD and SLURPD Administrator's Guide" for more details on
using this program.
.SH OPTIONS
.TP
.B \-v
Turn on verbose mode. This option can be given multiple times to increase
the level of verbosity.
.TP
.B \-n
Do not actually install index information. Useful in conjunction with
.B -v
for seeing what
.B centipede
is up to.
.TP
.BI \-f " ldapfilter"
Specify a filter used to select the entries for which to generate indexing
information.
.I ldapfilter
should be a string LDAP filter as described by RFC 1588.
.TP
.BI \-F
Generate full, as opposed to relative, index information.
.TP
.BI \-R
Generate relative, as opposed to full, index information. Full information
is still generated if there is no previous information available from
which to generate the relative information. This is the default.
.TP
.BI \-t " directory"
Specify the directory in which to create temporary files, find existing
index information, and put new index information. The default is
whatever is used by tempnam.
.TP
.BI \-b " binddn"
Specify the DN to authenticate with when extracting index information.
.TP
.BI \-p " passwd"
Specify the password to use for simple authentication when extracting
index information.
.TP
.BI \-m " authmethod"
Specify the authentication method to use when extracting index information.
.I authmethod
should be either "simple" or "kerberos".
.TP
.BI \-B " binddn"
Specify the DN to authenticate with when installing index information.
.TP
.BI \-P " passwd"
Specify the password to use for simple authentication when installing
index information.
.TP
.BI \-M " authmethod"
Specify the authentication method to use when installing index information.
.I authmethod
should be either "simple" or "kerberos".
.TP
.BI \-c " cachesize"
Specify the size in bytes of the cache used when building the new
index information. Upping this number can cause a big performance boost,
if you've got the memory for it.
.SH NOTES
This is all very experimental at the moment, and is subject to change.
.LP
Currently,
.B centipede
only handles value-based index information. A future version of centipede
will allow other types of index information to be manipulated (e.g.,
word-based indexes, substring indexes, phonetic indexes, hash indexes,
etc.). A future version may also allow weights to be generated.
.SH "SEE ALSO"
.BR ldap (3),
.BR slapd (8)
.LP
"The SLAPD and SLURPD Administrator's Guide"
.SH ACKNOWLEDGEMENTS
.B	OpenLDAP
is developed and maintained by The OpenLDAP Project (http://www.openldap.org/).
.B	OpenLDAP
is derived from University of Michigan LDAP 3.3 Release.  
